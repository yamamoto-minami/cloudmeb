$.fn.serializeObject=function(q){var p=this,h={};$.each(p.serializeArray(),function(){var k=q?p.find(['[name="','"]'].join(this.name)).attr("id"):this.name;void 0!==h[k]?(h[k].push||(h[k]=[h[k]]),h[k].push(this.value||"")):h[k]=this.value||""});return h};$.fn.inView=function(){var q=this.height(),p=this.get(0).getBoundingClientRect();return p.top>=-q&&p.bottom<=(window.innerHeight+q||document.documentElement.clientHeight+q)};
$(document).ready(function(q){function p(a,b){return eval("[object Object]"===Object.prototype.toString.call(b)?a.replace(/%\(\w+\)s/g,function(a){return String(b[a.slice(2,-2)])}):null)}function h(a,b,c,d){c=[a,b,c].join("-");_gaq.push(["_trackEvent",a,b,c,d])}function k(a,b,c,d,e){var f,g=e||5;e=$("<button />",{type:"button","class":"close","data-dismiss":"alert","aria-label":gettext("Close")}).append($("<span />",{"area-hidden":!0})).html("&times;");var l=$("<div />",{role:"alert","class":["alert",
["alert",b].join("-"),c?"alert-dismissible":"","fade in animated",d||"bounceInDown"].join(" ")}).html(a);c&&l.prepend(e);$(".growl").append(l);f=setInterval(function(){!l.is(":hover")&&g--;0==g&&(l.animate({opacity:0},{duration:500,complete:function(){l.alert("close")}}),clearInterval(f))},1E3);l.on("mouseout",function(a){g=5});return l}function w(a){$("footer").attr("style","").css({position:$(document).height()>$(window).height()?"relative":"absolute",bottom:0,visibility:"visible"})}function x(a){a=
$(this).css("display","block");var b=$(window);a=a.find(".modal-dialog");var b=(b.height()-a.height())/2,c=parseInt(a.css("margin-bottom"),10);a.css("margin-top",b<c?c:b)}function F(a){var b=$([".category-carousel",a?"products":"services"].join(".")),c=b.data("owlCarousel");b.css("opacity",0);setTimeout(function(){c._width=b.width();c.invalidate("width");c.refresh();b.css("opacity",1)},500)}function y(){$.each([{length:Math.ceil($(["#"," .solutions-item"].join(gettext("products"))).not(".filtered").length/
r),$paginator:$(["#"," .pagination"].join(gettext("products")))},{length:Math.ceil($(["#"," .solutions-item"].join(gettext("services"))).not(".filtered").length/r),$paginator:$(["#"," .pagination"].join(gettext("services")))}],function(a,b){for(var c=[],d=0;d<this.length;d++)c.push($("<li />",{"class":"pagination-item"}).html($("<a />",{href:["#",this.$paginator.closest(".tab-pane").attr("id")].join("")}).text(d+1)));this.$paginator[1<this.length?"show":"hide"]();this.$paginator.find("li.pagination-item").remove();
this.$paginator.find("li").first().after(c);this.$paginator.find("li.pagination-item").first().click()});z=!0}function G(a,b){var c=new RegExp(["(",")(?![^<]*>|[^<]*</>)"].join(b),"gi"),d=a.originalHTML=a.originalHTML||a.innerHTML;a.innerHTML=b?d.replace(c,function(a){return['<span class="highlight">',"</span>"].join(a)}):d}function A(a){var b=$(".active .solutions-item").attr("style","");b.each(function(b,d){var e=$(this),f=!1,g=[e.find("h4"),e.find("h5"),e.find("p")];$.each(g,function(b,c){(f=f||
this.text().match(new RegExp(a,"gi")))&&G(this.get(0),a)});e[f?"removeClass":"addClass"]("filtered");setTimeout(y,0)});$(".solutions-filter-empty").find("span").text(['"','"'].join(a)).end()[b.filter(":visible").length?"hide":"show"]();$(window).trigger("resize")}function u(a){a=a?"products":"services";var b=$([".configurator-solutions-wrapper",a].join(" .")),c=1>b.find("[data-solution-id]").parent().not(".hidden").length;b.find(".empty")[c?"removeClass":"addClass"]("hidden");$([".configurator-solutions-basket",
a].join(" .")).find(".empty")[c?"removeClass":"addClass"]("hidden");$(window).trigger("resize")}function H(){var a={},b={},c=$(".pricing-totals"),d=$("form.user-info");$(".configurator-solutions-basket [data-solution-id]").not(".hidden").find(".price").each(function(c,d){var e=$(this),h=a[e.data("price-frequency")];a[e.data("price-frequency")]=(h||0)+parseInt(e.find("span").text().replace(",",""));b[e.data("price-frequency")]=e.data("price-frequency-id")});c.find("[data-price]").remove();for(var e in a)c.find(".btn").before($("<h4 />",
{"data-price":parseFloat(a[e]).toLocaleString(),"data-price-id":b[e]}).text(e));c.find("[data-price-id]").each(function(a,b){var c=$(this);d.find(["#"," input"].join(c.data("price-id"))).val(parseFloat(String(c.data("price")).replace(",","")))})}function B(){$("[data-pricing-formula]").each(function(a,b){var c=0,d=$(this),e=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(d.data("solution-id"))),f=$(['.add-more-modal [data-solution-id="','"]'].join(d.data("solution-id"))),g=$(['.swap-modal [data-solution-id="',
'"]'].join(d.data("solution-id"))),c=parseFloat(p(String(d.data("pricing-formula")),d.find("form").serializeObject())).toLocaleString();e.find(".price span").text(c);f.find(".price span").text(c);g.find(".price span").text(c);d.find(".price span").text(c)})}function I(){var a=$("form.user-info"),b={products:[],services:[]};$(".configurator-solutions-basket [data-solution-id]").not(".hidden").each(function(c,e){var f=$(this),f=a.find(['[data-value-id="','"]'].join(f.data("solution-id"))).val();b[$(this).hasClass("product")?
"products":"services"].push(f)});for(var c in b)a.find(["."," .selectpicker"].join(c)).selectpicker("val",b[c])}function J(){var a=$("form.user-info"),b=[];$(".configurator-solutions-basket [data-solution-id]").not(".hidden").each(function(a,d){var e=$(this);$.each(e.data("categories-id"),function(a,c){-1==$.inArray(this,b)&&b.push(this)})});a.find(".categories .selectpicker").selectpicker("val",b)}function K(){var a=$("form.user-info"),b={products:[],services:[]};$(".configurator-solutions-basket [data-solution-id]").not(".hidden").each(function(a,
c){var f=$(this),g=$(['.configurator-solutions [data-solution-id="','"] form'].join(f.data("solution-id"))).serializeObject();g.name=f.find("h4").text();b[$(this).hasClass("product")?"products":"services"].push(g)});for(var c in b)a.find([".","-configuration textarea"].join(c)).val(JSON.stringify(b[c],null,4))}function C(a,b){var c="radio"==a.attr("type")?a.closest(".form-group").find(":checked").val():a.val();b.closest("[data-solution-id]").find(['[data-value-input-id="','"]'].join(a.data("input-id"))).text(c)}
function v(a,b){a.hasClass("selectpicker")?b.selectpicker("val",a.selectpicker("val")):"radio"==a.attr("type")?a.prop("checked")&&b.filter(['[value="','"]'].join(a.val())).prop("checked",a.prop("checked")):"checkbox"==a.attr("type")?b.prop("checked",a.prop("checked")):b.val(a.val());C(a,b)}function D(){var a=[],b=[];$("[data-tags]").each(function(){var c=$(this),d=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(c.data("solution-id"))),e=$(['.add-more-modal [data-solution-id="',
'"]'].join(c.data("solution-id"))),f=!1,g=c.data("tags"),l=c.data("categories"),h=c.data("featured"),k=c.hasClass("product")?a:b,n=$("form.global").serializeObject();$.each(g,function(a,b){for(var c in n)if(f=f||n[c]==b||$.isArray(n[c])&&-1!==$.inArray(b,n[c]))break});f&&$.each(l,function(a,b){h&&-1==$.inArray(b,k)?k.push(b):f=!1});e.find("[data-selected]").attr("data-selected",f);d[f?"removeClass":"addClass"]("hidden");c.parent()[f?"removeClass":"addClass"]("hidden")})}function m(a){var b;"email"==
a.attr("type")?(b=a.val(),b=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(b)):b=""!=a.val();var c;b||(c=["<strong>","</strong>"].join(interpolate(gettext("%(fieldName)s is not valid!"),{fieldName:a.parent().find(['[for="','"]'].join(a.attr("name"))).text()},!0)),k(c,"warning",!0));a.closest(".form-group")[b?"removeClass":"addClass"]("has-error has-feedback");return b}function E(a){setTimeout(function(){var a=$(['[href="','"]'].join(location.hash)).first();
a.hasClass("active")||a.parent().hasClass("active")||a.trigger("click")},50)}$("a[data-lang]").click(function(a){a.stopImmediatePropagation();a.preventDefault();$.ajax({type:"POST",url:"/i18n/setlang/",data:{language:$(a.currentTarget).data("lang"),next:"/"},beforeSend:function(a){a.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}).done(function(a){location.href=$('link[rel="alternate"]').attr("href")})});$(".navbar-toggle").on("click",function(){var a=$(this),b="false"==a.attr("aria-expanded");
$("html").css("overflow",b?"hidden":"");b?a.closest(".navbar").addClass("navbar-default"):setTimeout(function(a){$(document).trigger("scroll")},0)});$(window).on("scroll",function(a){$('[data-animate-on-scroll="true"]').each(function(a,c){var d=$(this),e=["animated",d.data("animation-name")].join(" ");d[d.inView()?"addClass":"removeClass"](e)})});(function(){$(".before .addons, .after .addons").each(function(a,b){var c=$(this);setTimeout(function(){c.width(c.parent().width())},500)}).length&&setInterval(function(){var a=
$(".before .addons"),b=a.parent(),c=$(".after .addons"),d=c.parent(),e=a.filter(".active").index()-2,f=c.filter(".active").index()-2,e=e==a.length-1?0:e+1,f=f==c.length-1?0:f+1;b.hasClass("expanded")||d.hasClass("expanded")||b.parent().is(":hover")&&d.parent().is(":hover")||(a.width(b.width()).removeClass("active").eq(e).addClass("active"),c.width(d.width()).removeClass("active").eq(f).addClass("active"))},3E3)})();$(".before-after > div > div").on("click",function(a){a=$(this);var b=a.clone();a.position();
var c={position:"absolute","z-index":"100",width:"50%",opacity:"0"};992>$(window).width()&&(c[a.hasClass("before")?"left":"right"]=0,a.after(b.addClass("expanded").css(c).animate({width:"100%",opacity:"1"},{duration:500,start:function(a){$(this).find("li").css("opacity","0")},complete:function(a){$(this).find("li").animate({opacity:"1"},500)}}).on("click",function(a,b){a.find("li").animate({opacity:"0"},{duration:500,complete:function(b){a.animate({width:"50%",opacity:"0"},{duration:500,complete:function(b){a.remove()}})}})}.bind(null,
b)).find(".addons").hide().filter(".active").show().css({width:"100%",opacity:"1"}).end().end()))});$(window).on("resize",function(a){a=$(".before-after > div > div");var b=1600<$(window).width()?"20%":a.css("paddingRight");a.each(function(a,d){var e=$(this),f=e.hasClass("before");e.css(f?"padding-left":"padding-right",b)})});$(window).on("scroll resize",function(a){a=$(this);var b=$(document),c=$(".navbar-scroll"),d=$(".hero-unit"),e=d.find(".lead"),f=$(".configurator-steps > *"),d=d.next(".container-fluid"),
g=a.scrollTop(),l=a.height()==b.height(),h=d.length&&0<d.get(0).getBoundingClientRect().top,b=g+a.height()==b.height(),k=["-","px"].join(g),n=["scale(",")"].join((100-g/10)/100),L=["scale(",")"].join((100-g/2)/100),p=(100-g/5)/100,m=(100-1.5*g)/100;!c.find('[aria-expanded="true"]').length&&c[0<g?"addClass":"removeClass"]("navbar-default");760>a.width()||!(l||h&&!b)||(d.css("margin-top",k),e.css({opacity:p,transform:n}),f.css("opacity",m).filter("h1").css("transform",L))}).trigger("scroll");$(document).on("show.bs.modal",
".modal",x);$(window).on("resize",function(){$(".modal:visible").each(x)});$(".configurator-steps li, .faq .panel-heading").on("click",function(a){setTimeout(w,500)});$(window).load(function(a){$(this).on("resize",w).trigger("resize")});$('[data-toggle="btns"] .btn').on("click",function(a){a=$(this);history.pushState?history.pushState(null,null,a.attr("href")):location.hash=a.attr("href");a.parent().find(".active").removeClass("active");a.addClass("active");$(".solutions-filter input").val("").trigger("blur");
$(".solutions-filter-empty").hide();y();_gaq.push(["_trackPageview",location.pathname+location.search+location.hash])});$("#testemonial-carousel").owlCarousel({autoplay:!0,dots:!1,autoplaySpeed:1500,autoplayTimeout:5E3,autoplayHoverPause:!0,margin:30,autoWidth:!0,autoHeight:!0,items:3,center:!0,loop:!0}).on("translate.owl.carousel",function(a){$(this).find(".flip").removeClass("current").removeClass("flipped").find('> img[data-toggle="tooltip"]').data("placement","right")}).on("translated.owl.carousel",
function(a){$(this).find(".flip").eq(a.item.index).addClass("current")}).on("click",".flip",function(){var a=$(this),b=parseInt(a.data("index"));a.hasClass("current")?a.toggleClass("flipped").find('> img[data-toggle="tooltip"]').data("placement","left"):a.closest("#testemonial-carousel").trigger("to.owl.carousel",[b,500,!0])});$("#partner-carousel").owlCarousel({autoplay:!0,dots:!1,autoWidth:!0,autoHeight:!1,autoplaySpeed:1E3,autoplayTimeout:1500,autoplayHoverPause:!0,margin:30,loop:!0,center:!0,
items:$("#partner-carousel img").length});$(".category-carousel").owlCarousel({autoplay:!1,dots:!1,margin:0,loop:!0,center:!0,items:5,responsive:{0:{items:1},992:{items:3},1200:{items:5}}}).on("click",".owl-item a",function(a){$(this).closest(".category-carousel").find("a").removeClass("active").end().end().addClass("active")}).on("translated.owl.carousel",function(a){$(this).find("a").filter(".active").removeClass("active").end().eq(a.item.index).trigger("click").addClass("active")});$(".category-carousel-wrapper [data-direction]").on("click",
function(a){a=$(this);var b=a.parent().find(".category-carousel"),c=b.find("a.active").data("index");b.trigger("to.owl.carousel",["next"==a.data("direction")?c+1:c-1,250,!0])});var r=5,z=!1;$(".pagination").on("click",function(a){var b,c;a.preventDefault();var d;d=$(a.target).closest("li");var e=d.closest(".pagination").find("li.pagination-item"),f=d.hasClass("pagination-item")?d:d.hasClass("next")?e.filter(".active").next().length?e.filter(".active").next():e.eq(0):e.filter(".active").prev();d=f.index();
1>d||d>e.length&&f.addClass("disabled");f.hasClass("disabled")||(b=d*r+1-r,c=d*r,e.removeClass("active"),f.addClass("active").closest(".tab-pane").find(".solutions-item").not(".filtered").each(function(a,d){$(this)[a+1>=b&&a+1<=c?"show":"hide"]()}),a.originalEvent?(window.scrollTo(0,0),$("html, body").animate({scrollTop:f.closest(".container-fluid").offset().top-10},1E3)):!z&&setTimeout(function(){window.scrollTo(0,0)},0))});$(".solutions-filter button").on("click",function(a){A($(this).closest(".solutions-filter").find("input").val().trim())});
$(".solutions-filter input").on("blur",function(a){A($(this).val().trim())});$(".solutions-filter input").on("keyup",function(a){13==a.which&&$(this).blur()});$('input[type="number"]').on("change",function(a){a=$(this);var b=a.val();a.val(0<b?parseInt(b):1)});$("form.global :input").on("change",function(a){a=$(this);var b=$(['.scoped [data-input-id="','"]'].join(a.data("input-id"))),c=a.attr("name"),d=a.val();v(a,b);B();$('[data-step="1"]').hasClass("active")&&($.isArray(d)?$.each(d,function(){h("quote",
"input",[c,this].join(":"),0)}):h("quote","input",[c,d].join(":"),0),D())});D();B();$("select[data-related-input-id]").each(function(a,b){var c=$(this),c=$(['[data-input-id="','"]'].join(c.data("related-input-id")));c.prop("disabled",!0);c.selectpicker("refresh")}).on("change",function(a){a=$(this);var b=$(a.prop("selectedOptions")),c=$(['[data-input-id="','"]'].join(a.data("related-input-id")));c.prop("disabled",!b.length).selectpicker("refresh").selectpicker("deselectAll").find("option").each(function(a,
e){var f=!b.length||$(this).data("related-value-id")==b.data("value-id");c.next().find(['[data-original-index="','"]'].join(a))[f?"removeClass":"addClass"]("hidden")})});$(".configurator-steps li[data-step]").on("click",function(a){var b=$(this),c=b.parent(),d=c.find("li");$steps=d.filter("[data-step]");previousIndex=$steps.filter(".active").index();thisIndex=b.index();isLast=thisIndex==$steps.length;isFirst=1==thisIndex;scrollWidth=c.get(0).scrollWidth;scrollPosition=isFirst?0:isLast?scrollWidth:
scrollWidth/2-b.outerWidth()/2-35;b.hasClass("disabled")||b.hasClass("active")?(a.stopPropagation(),a.preventDefault()):(history.pushState?history.pushState(null,null,b.find("a").attr("href")):location.hash=b.find("a").attr("href"),$("html, body").animate({scrollTop:0},500),b.parent().animate({scrollLeft:scrollPosition},500),d.first()[isFirst?"addClass":"removeClass"]("disabled").end().last()[isLast?"addClass":"removeClass"]("disabled"),isLast&&H(),isLast&&I(),isLast&&J(),isLast&&K(),h("quote","step",
[-1<previousIndex?previousIndex:0,thisIndex].join(":"),0),_gaq.push(["_trackPageview",location.pathname+location.search+location.hash]))});$(".next-step-btn, .prev-step-btn").on("click",function(a){$(this).hasClass("disabled")?(a.preventDefault(),a.stopImmediatePropagation()):$(".configurator-steps li[data-step].active")[$(this).hasClass("next-step-btn")?"next":"prev"]().find("a").click()});$(".configurator-steps li").not("[data-step]").on("click",function(a){var b=$(this),c=b.parent().find("li"),
d=c.filter(".active").index(),e=b.index(),d=e==c.length-1?d+1:d-1;a.preventDefault();b.hasClass("disabled")?a.stopPropagation():e!=d&&c.eq(d).find("a").click()});$(".configurator-solutions-wrapper .btn-add-more").on("click",function(a){var b=$(this).closest(".configurator-solutions-wrapper").find("[data-solution-id]");b.each(function(a,b){var e=$(this);$addMoreSolution=$(['.add-more-modal [data-solution-id="','"]'].join(e.data("solution-id")));$addMoreSolution.find("[data-selected]").attr("data-selected",
!e.parent().hasClass("hidden"))});setTimeout(function(){b.parent().filter(".expanded").find("a.close-btn").click()},500);F(b.hasClass("product"))});$(".modal [data-solution-id] .btn-radio").on("click",function(a){a.preventDefault();a=$(this);var b=a.closest("[data-solution-id]").parent().siblings(),c="true"!=a.attr("data-selected");a.closest("[data-solution-id]").hasClass("product");a.attr("data-selected",c).find(".action-name").text(c?gettext("selected"):gettext("select"));b.find("[data-selected]").attr("data-selected",
!1).find(".action-name").text(gettext("select"))});$(".modal .btn-add-more").on("click",function(a){var b=0,c=$(this).closest(".modal").find("[data-solution-id]");a=c.hasClass("service")?".services":".products";$([".configurator-solutions-wrapper "," [data-solution-id]"].join(a)).map(function(a,b){return c.filter(['[data-solution-id="','"]'].join($(this).data("solution-id")))}).each(function(a,e){var f,g=!1,l=!1,l=$(this),t=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(l.data("solution-id"))),
p=$(['.configurator-solutions-wrapper [data-solution-id="','"]'].join(l.data("solution-id"))),n="true"==l.find("[data-selected]").attr("data-selected"),m=l.find(".face > h4").text(),g=t.hasClass("hidden")&&n,l=!t.hasClass("hidden")&&!n;t[n?"removeClass":"addClass"]("hidden");if(g||l)b++,setTimeout(function(){p.parent().css("opacity",n?0:1)[n?"removeClass":"addClass"]("hidden").animate({opacity:n?1:0},{duration:500,complete:function(){f=["<strong>",m,g?gettext("added!"):gettext("removed!"),"</strong>"].join(" ");
k(f,g?"success":"danger",!0);u(c.hasClass("product"));h("quote",g?"added":"removed",m,0)}})},500*b)})});$(".modal .btn-swap").on("click",function(a){var b,c=$(this).closest(".swap-modal").find('.active [data-selected="true"]').closest("[data-solution-id]"),d=$(['.configurator-solutions-wrapper [data-solution-id="','"]'].join(c.data("solution-id")));a=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(c.data("solution-id")));var e=c.find(".face > h4").text();$(".expanded").find(".remove-btn").click();
a.removeClass("hidden");setTimeout(function(){d.parent().css("opacity",0).removeClass("hidden").animate({opacity:1},{duration:500,complete:function(){u(c.hasClass("product"));b=["<strong>",e,gettext("added!"),"</strong>"].join(" ");k(b,"success",!0);h("quote","added",e,0)}})},1500)});$(".actions a.setup-btn").on("click",function(a){a=$(this).closest("[data-pricing-formula]");a.prop("$inputCache",a.find("input, select, textarea").clone())});$(".actions a.cancel-btn").on("click",function(a){var b=$(this).closest("[data-pricing-formula]");
b.prop("$inputCache").each(function(a,d){var e=$(this),f=b.find(['[data-input-id="','"]'].join(e.data("input-id")));v(e,f)});b.toggleClass("configuring")});$(".actions a.remove-btn").on("click",function(a){var b,c=$(this).closest("[data-pricing-formula]");a=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(c.data("solution-id")));var d=c.find(".face > h4").text();c.find("a.close-btn").click();a.addClass("hidden");setTimeout(function(){c.parent().animate({opacity:0},{duration:500,
complete:function(){c.parent().addClass("hidden").css("opacity",1);u(c.hasClass("product"));b=["<strong>",d,gettext("removed!"),"</strong>"].join(" ");k(b,"danger",!0);h("quote","removed",d,0)}})},600)});$("[data-pricing-formula]").each(function(a,b){var c=$(this).find("a.swap-btn");$tab=$(["#",c.data("swap-tab")].join(""));isSwappable=1<$tab.find("[data-solution-id]").length;c[isSwappable?"removeClass":"addClass"]("disabled")});$(".actions a.swap-btn").on("click",function(a){if($(this).hasClass("disabled"))return a.stopImmediatePropagation();
a=$(this).closest("[data-pricing-formula]");var b=a.hasClass("product")?"products":"services";$(["#swap-","-modal"].join(b)).find(["#",$(this).data("swap-tab")].join("")).find("[data-selected]").attr("data-selected",!1).end().find(['[data-solution-id="','"] [data-selected]'].join(a.data("solution-id"))).click().end().siblings().removeClass("active").end().addClass("active")});$(".configurator-solutions .face").on("click",function(a){$(this).find("a.expand-btn").click()});$(".configurator-solutions a.expand-btn").on("click",
function(a){a.stopImmediatePropagation();var b=$(this).parent().parent().parent();a=b.height();b.find(".back");var c=b.clone().empty().append(b.children()),d=b.position(),e=[parseFloat(b.css("width"))/parseFloat(b.parent().css("width"))*100,"%"].join("");b.css({"min-height":a}).before(c.find("a.close-btn").on("click",function(a,c,d,e){a.animate({width:d,left:c.left},{duration:768>$(window).width()?1:500,start:function(){a.removeClass("expanded")},complete:function(){b.append(a.children()).attr("style",
"");a.remove()}})}.bind(null,c,d,e)).end().css({position:"absolute",top:d.top,left:d.left,width:e,"z-index":"100"}).animate({width:"100%",left:"0"},{duration:768>$(window).width()?1:500,complete:function(){c.addClass("expanded")}})).siblings(".expanded").find("a.close-btn").click()});$("[data-max-options]").on("change",function(){var a=$(this),b=a.selectpicker("val"),c=a.data("max-options");b&&b.length==c&&setTimeout(function(){a.next().removeClass("open");a.closest("form").trigger("click")},100)});
$("body").on("click",function(a){$(a.target).parents(".expanded").length||$(a.target).parents(".expanded").find("a.close-btn").click()});$("form.scoped :input").not(".btn").on("change blur",function(a){m($(this))});$(".actions a.apply-btn").on("click",function(a){var b=0,c=!0,d=$(this).closest("[data-pricing-formula]"),b=d.find("form"),e=$(['.configurator-solutions-basket [data-solution-id="','"]'].join(d.data("solution-id"))),f=$(['.add-more-modal [data-solution-id="','"]'].join(d.data("solution-id"))),
g=$(['.swap-modal [data-solution-id="','"]'].join(d.data("solution-id"))),l=d.find(".face > h4").text();b.find(".form-group").not(".hidden").find("input, select, textarea").each(function(a,b){var d=m($(this));c=c&&d});if(!c)return a.stopImmediatePropagation();d.find(".apply-global").prop("checked")?d.find("input, select, textarea").each(function(a,b){var c=$(this),d=$(['.global [data-input-id="','"]'].join(c.data("input-id")));v(c,d);("radio"!=c.attr("type")||c.prop("checked"))&&d.trigger("change")}):
(b=parseFloat(p(String(d.data("pricing-formula")),d.find("form").serializeObject())).toLocaleString(),e.find(".price span").text(b),f.find(".price span").text(b),g.find(".price span").text(b),d.find(".price span").text(b),d.find("input, select, textarea").each(function(a,b){var c=$(this),d=c.closest("form").find(['[data-input-id="','"]'].join(c.data("input-id")));C(c,d)}));d.toggleClass("configuring");a=["<strong>",l,gettext("configured!"),"</strong>"].join(" ");k(a,"info",!0);h("quote","configured",
l,0)});$(".actions a.setup-btn, .actions a.cancel-btn, .actions a.apply-btn").on("click",function(a){a=$(this);var b=a.closest("[data-pricing-formula]").parent();b.find(".form-group").removeClass("has-error has-feedback");a.hasClass("disabled")||b.toggleClass("configuring")});$("form.contact-form :input").not(".btn").on("change blur",function(a){m($(this))});$(".contact-form button").on("click",function(a){var b=$(this).closest("form"),c=b.serializeObject(),d=!0,e;b.find(".form-group").not(".hidden").find("[name]").each(function(a,
b){var c=m($(this));d=d&&c});d&&$.ajax({type:"POST",url:"/email/",data:c,beforeSend:function(a){a.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}).done(function(a,d,l){"1"==a?(b.get(0).reset(),e=["<strong>","</strong>"].join(interpolate(gettext("Thanks for reaching out %(fname)s, we'll get back to you shortly."),c,!0)),k(e,"success",!0),h("contact","sent",1)):(e=["<strong>","</strong>"].join(gettext("We were unable to deliver your message, please try again later.")),k(e,"danger",!0))})});
$("#partner-info-modal form :input").not(".btn").on("change blur",function(a){m($(this))});$("#partner-info-modal .btn-submit-modal").on("click",function(a){var b=$(this).closest(".modal"),c=b.find("form"),d=c.serializeObject(),e=!0,f;c.find(".form-group").not(".hidden").find("[name]").each(function(a,b){var c=m($(this));e=e&&c});e&&$.ajax({type:"POST",url:"/salesforce/",data:d,traditional:!0,beforeSend:function(a){a.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}).done(function(a,e,m){"200"==
a?(c.get(0).reset(),f=["<strong>","</strong>"].join(interpolate(gettext("Thanks for reaching out %(first_name)s, we'll get back to you shortly."),d,!0)),k(f,"success",!0),b.find(".close").click(),h("partnership","submitted",1)):(f=["<strong>","</strong>"].join(gettext("We were unable to deliver your partnership request, please try again later.")),k(f,"danger",!0))})});$("#partner-info-modal .btn-dismiss-modal").on("click",function(a){h("partnership","canceled",0)});$("#user-info-modal form :input").not(".btn").on("change blur",
function(a){m($(this))});$("#user-info-modal .btn-submit-modal").on("click",function(a){var b=$(this).closest(".modal"),c=b.find("form"),d=$.extend(c.serializeObject(),$("form.global").serializeObject(!0)),e=!0,f;c.find(".form-group").not(".hidden").find("[name]").each(function(a,b){var c=m($(this));e=e&&c});e&&$.ajax({type:"POST",url:"/salesforce/",data:d,traditional:!0,beforeSend:function(a){a.setRequestHeader("X-CSRFToken",$.cookie("csrftoken"))}}).done(function(a,e,m){"200"==a?(c.get(0).reset(),
f=["<strong>","</strong>"].join(interpolate(gettext("Thanks for reaching out %(first_name)s, we'll get back to you shortly."),d,!0)),k(f,"success",!0),b.find(".close").click(),h("quote","submitted",1)):(f=["<strong>","</strong>"].join(gettext("We were unable to deliver your quote request, please try again later.")),k(f,"danger",!0))})});$("#user-info-modal .btn-dismiss-modal").on("click",function(a){h("quote","canceled",0)});$(document).one("mouseenter",function(a){$.isTouchOn=!1;$.isMouseOn=!$.isTouchOn;
$(this).one("touchstart",function(a){$.isTouchOn=!0;$.isMouseOn=!$.isTouchOn})}).one("touchstart",function(a){$.isTouchOn=!1;$.isMouseOn=!$.isTouchOn;$(this).one("mouseenter",function(a){$.isTouchOn=!0;$.isMouseOn=!$.isTouchOn})});$('[data-toggle="tooltip"]').tooltip({container:"body",trigger:"hover",placement:function(a,b){return $(b).data("placement")}}).on("show.bs.tooltip",function(a){$.isTouchOn&&a.preventDefault()});window.addEventListener("hashchange",E);location.hash&&E();0<$(".configurator-steps").length&&
(window.onbeforeunload=function(a){var b=gettext("You have unsaved changes.");a=a||window.event;return a.returnValue=b})});